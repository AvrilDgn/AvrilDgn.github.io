"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}var Accordion=function(){function e(t,s){_classCallCheck(this,e),this._el="string"==typeof t?document.querySelector(t):t;this._config=Object.assign({alwaysOpen:!0,duration:350,itemClass:"accordion__item",headerClass:"accordion__header",bodyClass:"accordion__body"},s),this.addEventListener()}return _createClass(e,[{key:"addEventListener",value:function(){var e=this;null!=this._el&&this._el.addEventListener("click",(function(t){var s=t.target.closest("."+e._config.headerClass);if(s){if(!e._config.alwaysOpen){var n=e._el.querySelector(".show");n&&n!==s.parentElement&&e.toggle(n)}e.toggle(s.parentElement)}}))}},{key:"show",value:function(e){var t=e.querySelector("."+this._config.bodyClass);if(!t.classList.contains("collapsing")&&!e.classList.contains("show")){t.style.display="block";var s=t.offsetHeight;t.style.height=0,t.style.overflow="hidden",t.style.transition="height ".concat(this._config.duration,"ms ease"),t.classList.add("collapsing"),e.classList.add("slidedown"),t.offsetHeight,t.style.height="".concat(s,"px"),window.setTimeout((function(){t.classList.remove("collapsing"),e.classList.remove("slidedown"),t.classList.add("collapse"),e.classList.add("show"),t.style.display="",t.style.height="",t.style.transition="",t.style.overflow=""}),this._config.duration)}}},{key:"hide",value:function(e){var t=e.querySelector("."+this._config.bodyClass);!t.classList.contains("collapsing")&&e.classList.contains("show")&&(t.style.height="".concat(t.offsetHeight,"px"),t.offsetHeight,t.style.display="block",t.style.height=0,t.style.overflow="hidden",t.style.transition="height ".concat(this._config.duration,"ms ease"),t.classList.remove("collapse"),e.classList.remove("show"),t.classList.add("collapsing"),window.setTimeout((function(){t.classList.remove("collapsing"),t.classList.add("collapse"),t.style.display="",t.style.height="",t.style.transition="",t.style.overflow=""}),this._config.duration))}},{key:"toggle",value:function(e){e.classList.contains("show")?this.hide(e):this.show(e)}}]),e}();document.addEventListener("DOMContentLoaded",(function(e){document.querySelectorAll("input[type=tel]").forEach((function(e){var t=new IMask(e,{mask:"+{7} (000) 000-00-00",lazy:!0,placeholderChar:"_"});e.addEventListener("focus",(function(){t.updateOptions({lazy:!1})}),!0),e.addEventListener("blur",(function(){t.updateOptions({lazy:!0}),t.masked.rawInputValue||(t.value="")}),!0)}));var t=document.documentElement,s=document.querySelector(".header"),n=s.querySelector(".header__popup-wrap"),i=s.querySelector(".header__menu-btn"),a=s.querySelectorAll(".open-popup-btn"),l=!1,o=!1,r=0;function c(){o=!0,i.classList.contains("cross")?(i.classList.remove("cross"),i.addEventListener("transitionend",(function(){i.classList.remove("collapse"),i.addEventListener("transitionend",(function(){o=!1}),{once:!0})}),{once:!0})):(i.classList.add("collapse"),i.addEventListener("transitionend",(function(){i.classList.add("cross"),i.addEventListener("transitionend",(function(){o=!1}),{once:!0})}),{once:!0}))}a.forEach((function(e){var i=e.classList.contains("header__menu-btn"),a=n.querySelector(".header__popup-item."+e.dataset.popupTarget);a&&e.addEventListener("click",(function(){if(!o)if(l)if(i)s.classList.remove("header--popup-opened"),l=!1,t.classList.remove("modal-opened"),t.style.marginRight="",s.style.paddingRight="",window.scrollTo(0,r),t.style.top="",c();else{if(a.classList.contains("active"))return;var e=n.querySelector(".header__popup-item.active");e.style.opacity=0,e.addEventListener("transitionend",(function(){e.classList.remove("active"),e.style.opacity=null,a.classList.add("active"),a.style.opacity=0,window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){a.style.opacity=null}))}))}),{once:!0})}else n.querySelector(".header__popup-item.active").classList.remove("active"),a.classList.add("active"),function(){s.classList.add("header--popup-opened"),l=!0,r=window.pageYOffset;var e=window.innerWidth-t.clientWidth;t.style.top="".concat(-r,"px"),e&&(t.style.marginRight="".concat(e,"px"),s.style.paddingRight="".concat(parseInt(getComputedStyle(s).paddingRight,10)+e,"px"));t.classList.add("modal-opened")}(),c()}))}));var d=document.querySelectorAll(".nav-menu__column, .footer__nav-links"),u=null;d.forEach((function(e){var t=e.querySelector(".nav-menu__links-title, .footer__links-title"),s=e.querySelector(".nav-menu__links-list, .footer__links-list");t.addEventListener("click",(function(t){if(u){if(e.classList.contains("showed"))return;u.querySelector(".nav-menu__links-list, .footer__links-list").style.height=null,u.classList.remove("showed")}e.classList.add("showed"),s.style.height="auto";var n=s.offsetHeight;s.style.height=0,console.log(n),u=e,window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){s.style.height=n+"px"}))}))}))})),document.querySelectorAll(".search").forEach((function(e){var t=e.querySelector(".search__btn"),s=e.classList.contains("hidden");t.addEventListener("click",(function(t){s&&(t.preventDefault(),s=!1,e.classList.remove("hidden"))}))})),document.querySelectorAll(".range-slider").forEach((function(e){var t=e.querySelector(".range-slider__range"),s=Number(e.dataset.min),n=Number(e.dataset.max);noUiSlider.create(t,{start:[s,n],connect:!0,step:1,range:{min:s,max:n},format:{from:function(e){return parseInt(e)},to:function(e){return parseInt(e)}}});var i=[e.querySelector('input[name="min"]'),e.querySelector('input[name="max"]')];t.noUiSlider.on("update",(function(e,t){i[t].value=e[t].toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")})),i[0].addEventListener("change",(function(){t.noUiSlider.set([this.value,null])})),i[1].addEventListener("change",(function(){t.noUiSlider.set([null,this.value])}))})),document.querySelectorAll(".tabs").forEach((function(e){var t=e.querySelectorAll(".tabs__buttons .button"),s=e.querySelector(".tabs__placeholder");s.addEventListener("click",(function(){e.classList.toggle("opened")})),t.forEach((function(t){var n=t.textContent,i=!1;t.addEventListener("click",(function(a){if(!t.classList.contains("active")&&1!=i){var l=e.querySelector(".tabs__buttons .button.active"),o=e.querySelector(".tabs__content.active"),r=document.querySelector('.tabs__content[data-tab-id="'.concat(t.dataset.tabTarget,'"]'));i=!0,l.classList.remove("active"),o.style.opacity=0,o.addEventListener("transitionend",(function(){o.style.opacity=null,o.classList.remove("active"),t.classList.add("active"),s.querySelector("span").textContent=n,e.classList.remove("opened"),r.classList.add("active"),r.style.opacity=0,window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){r.style.opacity=null,i=!1}))}))}),{once:!0})}}))}))})),new Accordion(".faq__list",{alwaysOpen:!1,duration:350,itemClass:"faq__item",headerClass:"faq__head",bodyClass:"faq__body"}),document.querySelectorAll(".select").forEach((function(e){new SlimSelect({select:e,showSearch:!1})}));var p=document.querySelector(".projects__slider.slider");null!==p&&new Swiper(p.querySelector(".slider__wrap"),{spaceBetween:30,wrapperClass:"slider__list",slideClass:"slider__slide",freeMode:!0,slidesPerView:"auto",navigation:{nextEl:p.querySelector(".slider__arrow--next"),prevEl:p.querySelector(".slider__arrow--prev"),disabledClass:"disabled"},pagination:{el:p.querySelector(".slider__pagination"),bulletClass:"slider__bullet",bulletActiveClass:"active",clickable:!0},breakpoints:{1200:{freeMode:!1,slidesPerView:5}}}),document.querySelectorAll(".proj-card-full__images-item").forEach((function(e){var t=e.querySelector(".proj-card-full__main-slider.slider"),s=e.querySelector(".proj-card-full__thumb-slider.slider");if(null!=t&&null!=s){var n=new Swiper(s.querySelector(".slider__wrap"),{spaceBetween:30,wrapperClass:"slider__list",slideClass:"slider__slide",slidesPerView:3,freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:s.querySelector(".slider__arrow--next"),prevEl:s.querySelector(".slider__arrow--prev"),disabledClass:"disabled"}});new Swiper(t.querySelector(".slider__wrap"),{spaceBetween:10,wrapperClass:"slider__list",slideClass:"slider__slide",slidesPerView:1,thumbs:{swiper:n}})}})),document.querySelectorAll(".slider--lg").forEach((function(e){var t=document.createElement("div");t.classList.add("slider__pagination"),e.appendChild(t),new Swiper(e,{freeMode:!0,slidesPerView:"auto",spaceBetween:30,wrapperClass:"slider__list",slideClass:"slider__slide",pagination:{el:t,bulletClass:"slider__bullet",bulletActiveClass:"active",clickable:!0}})})),window.addEventListener("resize",(function(){document.querySelectorAll(".slider").forEach((function(e){e.swiper.update()}))})),document.querySelectorAll(".project-card--second-type").forEach((function(e){var t=e.querySelector(".project-card__content");e.addEventListener("mouseenter",(function(e){!function(){t.style.height="auto";var e=t.offsetHeight;t.style.height="0",window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){t.style.height=e+"px"}))}))}()})),e.addEventListener("mouseleave",(function(e){t.style.height=null}))}))}));